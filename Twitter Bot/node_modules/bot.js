// Based on the Coding Rainbow video series
// https://www.youtube.com/watch?v=KNsFrAnzSN4
// Created: August 2016

console.log("The bot is starting");

var Twit = require('twit');

var config = require('./config');
var T = new Twit(config);

var params = {
	q: 'banana since:2011-11-11',
	count: 10
};

/*T.get('search/tweets', params, gotData);

function gotData(err, data, response) {
	var tweets = data.statuses;
	for(var i = 0; i < tweets.length; ++i){
		console.log(tweets[i].text)
}*/

var date = Date();

var tweet = {
	status: 'Made a #TwitterBot with node.js! First automated tweet on ' + date + '!'
}

T.post('statuses/update', tweet, tweeted);

	function tweeted(err, data, response) {
		if(err){
			console.log("Something went wrong!");
		}else {
			console.log("Tweet sent!");
		}
	}
